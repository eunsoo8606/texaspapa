<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>
        <%= title %>
    </title>
    <link rel="icon" type="image/png" href="/images/logo.png">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="/css/style.css">
    <link rel="stylesheet" href="/css/community.css">

    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>

    <link
        href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;700&family=Outfit:wght@400;700&display=swap"
        rel="stylesheet">
</head>

<body>
    <div class="wrapper">
        <%- include('../partials/nav', { activePage: activePage }) %>

            <main class="sub-page">
                <!-- 커뮤니티 헤더 (전체 너비) -->
                <div class="community-hero">
                    <h1 class="community-title fade-up">COMMUNITY</h1>
                </div>

                <div class="community-section">
                    <div class="community-container">
                        <!-- 탭 내비게이션 -->
                        <nav class="community-tabs fade-up">
                            <a href="/community/notice"
                                class="tab-item <%= currentTab === 'notice' ? 'active' : '' %>">공지사항</a>
                            <a href="/community/event"
                                class="tab-item <%= currentTab === 'event' ? 'active' : '' %>">이벤트</a>
                            <a href="/community/faq"
                                class="tab-item <%= currentTab === 'faq' ? 'active' : '' %>">FAQ</a>
                            <a href="/community/voice"
                                class="tab-item <%= currentTab === 'voice' ? 'active' : '' %>">고객의소리</a>
                            <a href="/community/inquiry"
                                class="tab-item <%= currentTab === 'inquiry' ? 'active' : '' %>">문의게시판</a>
                        </nav>

                        <div class="community-content fade-up">
                            <% if (currentTab==='notice' ) { %>
                                <div class="notice-list">
                                    <!-- 중요한 공지 -->
                                    <div class="notice-item">
                                        <span class="ni-num"><i class="fa-solid fa-bullhorn"
                                                style="color: var(--primary-blue);"></i></span>
                                        <div class="ni-content">
                                            <a href="#" class="ni-title"><span class="ni-badge important">HOT</span>
                                                텍사스파파 공식 홈페이지가 리뉴얼 되었습니다.</a>
                                            <span class="ni-date">2026-01-10</span>
                                        </div>
                                    </div>

                                    <!-- 일반 공지 예시 -->
                                    <div class="notice-item">
                                        <span class="ni-num">04</span>
                                        <div class="ni-content">
                                            <a href="#" class="ni-title">2026년 설 연휴 영업 안내</a>
                                            <span class="ni-date">2026-01-12</span>
                                        </div>
                                    </div>
                                    <div class="notice-item">
                                        <span class="ni-num">03</span>
                                        <div class="ni-content">
                                            <a href="#" class="ni-title">겨울 시즌 신메뉴 '스노우베리 크레페' 출시 기념 프로모션</a>
                                            <span class="ni-date">2026-01-05</span>
                                        </div>
                                    </div>
                                    <div class="notice-item">
                                        <span class="ni-num">02</span>
                                        <div class="ni-content">
                                            <a href="#" class="ni-title">원부재료 단가 안정화를 위한 본사 지원 안내</a>
                                            <span class="ni-date">2025-12-28</span>
                                        </div>
                                    </div>
                                    <div class="notice-item">
                                        <span class="ni-num">01</span>
                                        <div class="ni-content">
                                            <a href="#" class="ni-title">텍사스파파 개인정보 처리방침 개정 안내</a>
                                            <span class="ni-date">2025-12-15</span>
                                        </div>
                                    </div>
                                </div>

                                <div class="pagination fade-up">
                                    <a href="#" class="pg-btn active">1</a>
                                </div>
                                <% } else { %>
                                    <div style="text-align: center; padding: 100px 0; color: #999;">
                                        <i class="fa-solid fa-tools"
                                            style="font-size: 3rem; margin-bottom: 20px; color: var(--primary-blue);"></i>
                                        <p style="font-size: 1.2rem;">죄송합니다. 현재 <strong>'<%= title.split(' | ')[0] %>'
                                                    </strong> 페이지는 준비 중입니다.</p>
                                        <p>빠른 시일 내에 더 좋은 서비스로 찾아뵙겠습니다.</p>
                                    </div>
                                    <% } %>
                        </div>
                    </div>
                </div>
            </main>

            <%- include('../partials/footer', { isGate: false }) %>
    </div>

    <script>
        // GSAP 스크롤 트리거 활성화
        window.addEventListener('load', () => {
            gsap.utils.toArray('.fade-up').forEach((el, i) => {
                gsap.from(el, {
                    scrollTrigger: {
                        trigger: el,
                        start: "top 85%",
                        toggleActions: "play none none reverse"
                    },
                    opacity: 0,
                    y: 30,
                    duration: 0.8,
                    delay: i * 0.1
                });
            });
        });
    </script>
</body>

</html>